generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Item {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  address     String
  createdDate DateTime @default(now())
  description String
  images      String[]
  name        String
  reviews     Review[]
}

model Product {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  address     String
  createdDate DateTime @default(now())
  description String
  images      String[]
  name        String
  reviews     Review[]
}

model Review {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  body           String
  comments       String
  createdDate    DateTime @default(now())
  helpfulVotes   Int
  product        Product? @relation(fields: [productId], references: [id])
  item           Item?    @relation(fields: [itemId], references: [id])
  service        Service? @relation(fields: [serviceId], references: [id])
  rating         Int
  title          String
  unhelpfulVotes Int
  user           User    @relation(fields: [userId], references: [id])
  productId      String?  @db.ObjectId
  itemId         String?  @db.ObjectId
  serviceId      String?  @db.ObjectId
  userId         String   @db.ObjectId
}

model Service {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  address     String
  createdDate DateTime @default(now())
  description String
  images      String[]
  name        String
  reviews     Review[]
}

model User {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  avatar      String?
  createdDate DateTime @default(now())
  email       String   @unique(map: "email_1")
  firstName   String
  lastName    String
  reviews     Review[]
}
